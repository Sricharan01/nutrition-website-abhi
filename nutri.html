<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>My Food Consciousness</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="page">
    <header>
      <div>
        <div class="badge">
          ⚕️ My Food Consciousness
          <span>Awareness of what you eat</span>
        </div>
        <h1>My Food Consciousness</h1>
        <p>
          Track your macros and micronutrients, auto-fill recommended targets,
          and review your diet over days, weeks, and months.
        </p>
      </div>
      <div class="small-note">
        Educational tool only – exact RDA values vary by guideline and person.
      </div>
    </header>

    <div class="layout">
      <!-- LEFT: Targets + Food entry -->
      <section class="card">
        <h2>1. Set Daily Targets</h2>
        <p>
          Type your own targets, or use the helper below to approximate
          recommended intakes based on age, sex, weight & activity.
        </p>

        <!-- RDA HELPER -->
        <div>
          <div class="section-title">
            Quick RDA helper
            <span class="badge-small">approx. RDA-style values</span>
          </div>
          <div class="rda-box">
            <div class="input-group">
              <label for="rda-age">Age</label>
              <div class="input-inline">
                <input type="number" id="rda-age" min="1" max="120" placeholder="Years" />
                <span>yrs</span>
              </div>
            </div>
            <div class="input-group">
              <label for="rda-sex">Sex</label>
              <select id="rda-sex">
                <option value="male">Male</option>
                <option value="female">Female</option>
              </select>
            </div>
            <div class="input-group">
              <label for="rda-weight">Weight</label>
              <div class="input-inline">
                <input type="number" id="rda-weight" min="10" max="200" placeholder="kg" />
                <span>kg</span>
              </div>
            </div>
            <div class="input-group">
              <label for="rda-activity">Activity</label>
              <select id="rda-activity">
                <option value="sedentary">Sedentary</option>
                <option value="light">Light</option>
                <option value="moderate" selected>Moderate</option>
                <option value="heavy">Heavy</option>
              </select>
            </div>
          </div>
          <button type="button" id="apply-rda" class="btn-primary">
            ⚙️ Use Recommended Targets
          </button>
          <p class="muted">
            Uses simplified RDA-like values scaled for body weight for macros.
            Adjust manually as needed.
          </p>
        </div>

        <hr style="border: none; border-top: 1px solid #f3f4f6; margin: 0.9rem 0;" />

        <!-- MANUAL TARGET INPUTS -->
        <div class="targets-grid" id="targets-grid">
          <!-- Inputs generated by JS -->
        </div>

        <p class="muted">
          Targets update live – no save button needed.
        </p>

        <hr style="border: none; border-top: 1px solid #f3f4f6; margin: 0.9rem 0;" />

        <!-- FOOD ENTRY -->
        <div>
          <div class="section-title">2. Add Foods Eaten (Today)</div>
          <p class="small-note">
            Choose a food, enter grams, and add it to today's log. Nutrients are
            approximate per 100 g (you can edit/extend the database in the code).
          </p>
          <form id="food-form" class="food-form">
            <div class="food-row">
              <div class="input-group">
                <label for="food-select">Food</label>
                <select id="food-select" required></select>
              </div>
              <div class="input-group">
                <label for="food-grams">Amount</label>
                <div class="input-inline">
                  <input
                    type="number"
                    id="food-grams"
                    placeholder="e.g. 150"
                    min="1"
                    step="1"
                    required
                  />
                  <span>g</span>
                </div>
              </div>
            </div>
            <button type="submit" class="btn-primary">
              ➕ Add to today's log
            </button>
          </form>

          <div class="flex-between">
            <span class="section-title">Today's Food Log</span>
            <button id="clear-log" class="btn-ghost" type="button">
              Clear today
            </button>
          </div>

          <table class="foods-table" id="foods-table">
            <thead>
              <tr>
                <th>Food</th>
                <th>Amount</th>
                <th>Energy</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="foods-tbody">
              <tr>
                <td colspan="4" class="small-note">
                  No foods added yet. Start by logging your first item.
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- RIGHT: Summary -->
      <section class="card summary-card">
        <div class="flex-between">
          <div>
            <h2>3. Nutrient Summary (Today)</h2>
            <p>
              Total intake from all foods vs your targets, and % of each goal reached.
            </p>
          </div>
        </div>

        <table class="summary-table">
          <thead>
            <tr>
              <th>Nutrient</th>
              <th>Target</th>
              <th>Consumed</th>
              <th>Remaining</th>
              <th>% Goal</th>
            </tr>
          </thead>
          <tbody id="summary-body">
            <!-- Rows filled by JS -->
          </tbody>
        </table>

        <p class="muted">
          Colour logic: <span class="chip chip-low">Low (&lt; 90%)</span>,
          <span class="chip chip-ok">OK (90–110%)</span>,
          <span class="chip chip-high">High (&gt; 110%)</span>.
        </p>
      </section>
    </div>

    <!-- FOOD INFORMATION SECTION -->
    <section class="card" style="margin-top: 1.5rem;">
      <div class="flex-between">
        <div>
          <h2>4. Food Information (per 100 g)</h2>
          <p>
            Quick reference for calories, macros and key micronutrients for the foods in this tool.
          </p>
        </div>
      </div>

      <div class="food-library-wrapper">
        <table class="food-library-table">
          <thead>
            <tr>
              <th>Food</th>
              <th>kcal</th>
              <th>Protein (g)</th>
              <th>Carbs (g)</th>
              <th>Fat (g)</th>
              <th>Fibre (g)</th>
              <th>Ca (mg)</th>
              <th>Fe (mg)</th>
              <th>K (mg)</th>
              <th>Mg (mg)</th>
              <th>Vit C (mg)</th>
            </tr>
          </thead>
          <tbody id="food-library-body">
            <!-- Filled by JS -->
          </tbody>
        </table>
      </div>

      <p class="muted">
        Values are approximate averages per 100 g from standard tables.
        For precise clinical work, cross-check with official data (ICMR-NIN/USDA).
      </p>
    </section>

    <!-- HISTORY / WEEKLY & MONTHLY REVIEW -->
    <section class="card" style="margin-top: 1.5rem;">
      <div class="flex-between">
        <div>
          <h2>5. Weekly & Monthly Review</h2>
          <p>
            Your daily logs are stored locally on this device so you can review
            your diet over the last week or month.
          </p>
        </div>
      </div>

      <div class="history-controls">
        <button id="view-week" class="btn-ghost" type="button">
          Last 7 days
        </button>
        <button id="view-month" class="btn-ghost" type="button">
          Last 30 days
        </button>
        <button id="view-all" class="btn-ghost" type="button">
          All saved days
        </button>
      </div>

      <table class="history-table">
        <thead>
          <tr>
            <th>Date</th>
            <th>Energy (kcal)</th>
            <th>Protein (g)</th>
            <th>Carbs (g)</th>
            <th>Fat (g)</th>
            <th>Fibre (g)</th>
          </tr>
        </thead>
        <tbody id="history-body">
          <tr>
            <td colspan="6" class="small-note">
              No history yet. Once you log foods on different days, you can view
              your weekly and monthly summaries here.
            </td>
          </tr>
        </tbody>
      </table>

      <div id="history-summary" class="history-summary"></div>
    </section>
  </div>

  <script src="script.js"></script>
</body>
</html>
